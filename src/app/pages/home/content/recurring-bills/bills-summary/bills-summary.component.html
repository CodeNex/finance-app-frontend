<div
  class="recurring-bills-summary h-[255px] flex gap-8"
  aria-label="Recurring Bills Summary Container"
>
  <div
    class="w-full h-full bg-grey-900 rounded-xl p-6 flex flex-col justify-between text-white"
  >
    <div class="summary-header flex justify-between items-center gap-4">
      <app-icons [iconName]="'billsIcon'"></app-icons>
      <div class="time-window-input flex items-center gap-4">
        <!-- Dropdown Box -->
        <div class="relative">
          <div
            (click)="closeHideDropdown()"
            class="min-w-[161px] flex justify-between gap-4 border-[1px] border-beige-500 hover:border-white focus:border-grey-900 transition-all duration-300 ease-in-out rounded-lg pl-4 pr-4 pt-3 pb-3 cursor-pointer"
          >
            <div class="leftBox flex items-center gap-3">
              <p class="text4r text-white">{{ selectedTimeWindowName }}</p>
            </div>
            <div class="rightBox flex items-center">
              @if (!isDropDownOpen) {
              <svg
                width="16"
                height="17"
                viewBox="0 0 16 17"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M13.3541 6.85375L8.35414 11.8538C8.30771 11.9002 8.25256 11.9371 8.19186 11.9623C8.13117 11.9874 8.0661 12.0004 8.00039 12.0004C7.93469 12.0004 7.86962 11.9874 7.80892 11.9623C7.74822 11.9371 7.69308 11.9002 7.64664 11.8538L2.64664 6.85375C2.57664 6.78382 2.52895 6.6947 2.50963 6.59765C2.4903 6.50061 2.50021 6.40002 2.53808 6.3086C2.57596 6.21719 2.64011 6.13908 2.7224 6.08414C2.8047 6.0292 2.90145 5.99992 3.00039 6L13.0004 6C13.0993 5.99992 13.1961 6.0292 13.2784 6.08414C13.3607 6.13908 13.4248 6.21719 13.4627 6.3086C13.5006 6.40002 13.5105 6.50061 13.4912 6.59765C13.4718 6.6947 13.4241 6.78382 13.3541 6.85375Z"
                  fill="#ffffff"
                />
              </svg>
              }@else {
              <svg
                width="16"
                height="17"
                viewBox="0 0 16 17"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M2.64586 11.1463L7.64586 6.14625C7.69229 6.09976 7.74744 6.06288 7.80814 6.03772C7.86883 6.01256 7.9339 5.99961 7.99961 5.99961C8.06531 5.99961 8.13038 6.01256 8.19108 6.03772C8.25177 6.06288 8.30692 6.09976 8.35336 6.14625L13.3534 11.1462C13.4234 11.2162 13.471 11.3053 13.4904 11.4023C13.5097 11.4994 13.4998 11.6 13.4619 11.6914C13.424 11.7828 13.3599 11.8609 13.2776 11.9159C13.1953 11.9708 13.0986 12.0001 12.9996 12L2.99961 12C2.90066 12.0001 2.80391 11.9708 2.72161 11.9159C2.63932 11.8609 2.57517 11.7828 2.5373 11.6914C2.49942 11.6 2.48952 11.4994 2.50884 11.4023C2.52817 11.3053 2.57585 11.2162 2.64586 11.1463Z"
                  fill="#ffffff"
                />
              </svg>
              }
            </div>
          </div>

          @if (this.isDropDownOpen) {
          <div
            class="themeDropDown w-full h-[174px] no-scrollbar absolute z-10 left-0 top-14 bg-grey-900 shadow-[0px_4px_16px_0px_#ffffff40] rounded-lg pt-3 pb-3 pl-5 pr-5 overflow-auto"
          >
            @for (item of this.timeFrames; let index = $index; track item) {
            <div
              (click)="updateTimeWindow(item)"
              class="w-full flex items-center justify-between pt-3 transition-all duration-300 ease-in-out rounded-lg"
            >
              <!-- Category Box Left Part -->
              <div class="w-full flex gap-3 items-center mb-3 cursor-pointer">
                <p
                  class="text4r text-white"
                  [ngStyle]="{
                    'font-weight':
                      item.name === selectedTimeWindowName ? 'bold' : 'normal'
                  }"
                >
                  {{ item.name }}
                </p>
              </div>
            </div>
            @if (index < this.timeFrames.length - 1) {
            <hr class="bg-grey-500 border-grey-500 w-full h-[1px]" />
            } }
          </div>
          }
        </div>
      </div>
    </div>

    <div class="total-bills flex justify-between items-center">
      <p class="text4r">Total Bills</p>
      <p class="text4r">${{ totalBillsAmount }}</p>
    </div>

    <div class="total-bills flex justify-between items-center">
      <p class="text4r">Paid Bills</p>
      <p class="text4r">${{ totalPaid }}</p>
    </div>

    <div class="total-bills flex justify-between items-center">
      <p class="text2b">Upcoming Bills</p>
      <p class="text1b">${{ totalUpcoming }}</p>
    </div>
  </div>
</div>
