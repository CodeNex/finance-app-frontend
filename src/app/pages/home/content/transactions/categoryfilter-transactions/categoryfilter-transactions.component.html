<div class="relative">
  <div
    (click)="closeHideDropdown()"
    class="w-full flex justify-between border-[1px] border-beige-500 hover:border-grey-900 focus:border-grey-900 transition-all duration-300 ease-in-out rounded-lg pl-5 pr-5 pt-3 pb-3 mb-5 mt-1 cursor-pointer"
  >
    <div class="leftBox flex items-center gap-3">
      <p class="text4r text-grey-900">{{ chosenCategory }}</p>
    </div>
    <div class="rightBox flex items-center">
      @if (!isDropDownOpen) {
      <app-icons [iconName]="'dropOpen'"></app-icons>
      }@else {
      <app-icons [iconName]="'dropClose'"></app-icons>
      }
    </div>
  </div>

  @if (this.isDropDownOpen) {
  <div
    class="themeDropDown w-full h-[220px] absolute z-10 left-0 top-20 bg-white shadow-[0px_4px_24px_0px_#00000040] rounded-lg pt-3 pb-3 pl-5 pr-5 overflow-auto"
  >
    @for (item of this.categories; let index = $index; track item) {
    <div
      (click)="chooseCategory(item)"
      class="w-full flex items-center justify-between pt-3 transition-all duration-300 ease-in-out rounded-lg"
    >
      <!-- Category Box Left Part -->
      <div class="w-full flex gap-3 items-center mb-3">
        <p
          class="text4r text-grey-900 cursor-pointer" 
        >
          {{ item.name }}
        </p>
      </div>

      <!-- Category Box Right Part -->
      <!-- <div>
        @if (usedBudgetCategories.includes(item)) {
        <p class="text5r text-grey-500 text-right whitespace-nowrap">
          Already used
        </p>
        } @if (item === chosenCategory) {
        <app-icons [iconName]="'themeCheck'"></app-icons>
        }
      </div> -->
    </div>
    @if (index < this.categories.length - 1) {
    <hr class="bg-grey-100 border-grey-100 w-full h-[1px]" />
    } }
  </div>
  }
</div>
